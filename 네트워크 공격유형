
현재 우리는 모든 것이 네트워크로 연결된 세상을 살고 있습니다.
일상 속에서 업무 또한 원한할 처리를 위해서 네트워크 자원을 활용하고 있습니다. (홈뱅킹, 전자상거래)
문제는 이러한 네트워크 취약점을 이용해 정보를 무단으로 취득하거나 위 변조하는 개인정보 유출 사례가 증가하고 있습니다.
시간이 흐를수록  해킹 기법은 다양하고 정교해지고 있기 때문에  네트워크 공격 기법을 이해하고 이에 대응할 수 능력이 필요하다고 할 수 있다.



네트워크 공격 유형

1. 스니핑

  - 네트워크에 흐르는 패킷을 캡처하여 자신이 아닌 다른 사용자의 정보를 보는것
  - 가장 쉽고 효과적인 해킹 방법


2. 스푸핑

  - 사전적 의미로 남을 속이다
  - 네트워크 해킹의 기본

  스푸핑 기법의 종류
    - ARP 스푸핑
    - IP 스푸핑
    - DNS 스푸핑


  
  1) ARP 스푸핑(ARP Spoofing)
  
    - 상대방의 MAC 주소를 찾기 위해서 브로드캐스팅한다는 점과 ARP 캐시 (테이블)가 동적으로 변경된다는 점을 악용하는 공격 유형이다.
    
    - 공격자가 로컬 네트워크에서 ARP 프로토콜을 이용하여 MAC 주소와 IP 주소 간의 매핑 정보를 변조하거나 위조하여 네트워크 트래픽을 가로채거나 중간에서 조작하려는 목적으로 사용됩니다.
    
    - 이 ARP 동작 과정에서의 치명적인 단점이 있는데, 바로 ARP Reply 패킷에 담긴 MAC 주소가 실제 맞는 주소인지 검증을 하지 않는 인증 시스템이 없다는 취약점이 있다.
    
    
    
    ARP 프로토콜 이해
    
      - ARP는 IP 주소와 MAC 주소 간의 매핑 정보를 유지하고, 네트워크 내에서 호스트 간에 데이터를 전달할 때 사용됩니다. 각 호스트는 ARP 테이블(또는 ARP 캐시)에 IP 주소와 해당하는 MAC 주소의 매핑 정보를 저장합니다.
     
      - ARP 요청 및 응답: 호스트가 다른 호스트에게 데이터를 전송하려면, 목적지 호스트의 IP 주소를 사용하여 해당 호스트의 MAC 주소를 알아야 합니다. 이를 위해 ARP 요청 패킷을 로컬 네트워크에 브로드캐스트합니다. 목적지 호스트는 ARP 요청을 받고 자신의 IP 주소와 일치하는 경우 ARP 응답 패킷을 전송하여 MAC 주소를 공유합니다.
      
    
    ARP 스푸핑의 작동 원리  
    
      1) 공격자가 공격 대상 호스트에게 게이트웨이의 IP 주소와 공격자의 MAC 주소가 설정된 ARP Reply 패킷을 보냅니다.
      
      2) 공격 대상 호스트는 자신의 ARP 캐시 (테이블)에 게이트웨이 주소에 공격자의 MAC 주소를 변경합니다.
      
      3) 공격 대상 호스트가 게이트웨이를 통해 전달되는 모든 패킷들은 전부 공격자에게 라우팅되므로 공격자는 공격 대상 호스트의 트래픽을 가로챌 수 있습니다. 
  
  
  
  2) IP 스푸핑
  
    - 공격자가 클라이언트 IP로 위장하고 클라이언트와 신뢰관계에 있는 서버와 통신하여 정보를 가로채는 기법입니다.
  
    IP 스푸핑의 작동 원리  
    
      1) 공격자는 클라이언트에 DDos 공격을 가하여 서비스 불가 상태로 만듭니다.
      2) 공격자가 클라이언트 IP로 위장하고 클라이언트와 신뢰관계에 있는 서버로 SYN 패킷을 보냅니다.
      3) 서버는 신뢰관계에 있는 클라이언트가 보낸 신호로 착각하고 SYNC + ACK 패킷을 클라이언트에 전송합니다.
         그러나 클라이언트는 DDoS 공격을 받고 있기 때문에 해당 패킷을 받지 못하고 서버는 클라이언트가  SYNC + ACK 패킷을 받았는지 여부를 알 수 없습니다.
      4) 공격자가  SYNC + ACK 패킷에 응답 신호인 ACK 패킷을 서버로 보냅니다.
         서버는 3-Way Handshake 과정을 모두 거친 상태가 되어 신뢰관계에 있는 클라이언트로 판단하고 공격자와 연결이 이루어지게 됩니다.
  
  
  
  3) DNS 스푸핑
  
    - 사용자가 요청한 도메인에 대한 IP 주소를 잘못된 IP 주소로 알려주어 엉뚱한 사이트에 접속하도록 하는 기법

    DNS 스푸핑의 동작 원리

      1) DNS 스푸핑 공격을 위해서는 ARP 스푸링 공격이 선행되어야 하므로 공격자가 공격 대상 호스트에게 ARP 스푸핑 공격을 합니다.
    
      2) 공격 대상 호스트가 인터넷 접속을 위해서 DNS 질의를 합니다. 
         이때 공격자가 정상적인 응답이 오기 전에 재빠르게 허위 정보를 공격 대상 호스트에게 전송합니다.
    
      3) 공격 대상 호스트는 허위 정보를 그대로 믿고 엉뚱한 사이트로 접속합니다.




3. 세션 하이재킹 (Session Hijacking)

  - 두 컴퓨터간 연결된 상태를 낚아채는 기법

  - 공격 성공 시 공격 대상 호스트(타깃)의 로그온 상태를 가로채 공격자가 이를 활용할 수 있기 때문에 타깃의 계정 정보를 몰라도 로그온 상태의 모든 작업이 가능합니다.

   세션 하이재킹의 동작 원리
  
     1) 공격을 위해서는 ARP 스푸링 공격이 선행되어야 하므로 공격자가 공격 대상 호스트에게 ARP 스푸핑 공격을 합니다.
  
     2) 공격자는 공격 대상 호스트 IP로 위장하여 서버에게 RST(연결 재설정) 패킷을 보냅니다.
  
     3) 서버는 패킷을 수신하면 기존 연결을 종료한 후 패킷의 순서번호를 재설정하기 위해서 다시 3-Way-Handshake 과정을 수행합니다.
        이때 공격자가 가로채 공격 대상 호스트 대신 이 과정을 수행합니다.
  
     4) 공격자는 기존 세션을 물려받아 공격 대상 호스트의 모든 권한을 행사합니다.



4. 서비스 거부 공격 (DoS)


  - 서버가 수용할 수 있는 능력 이상의 트래픽을 발생시키거나 CPU, RMA 등의 시스템 자원을 소모하도록 하여 정당한 서비스를 할 수 없도록 하는 공격 기법

  DoS 기법의 종류

  - Ping of Death
  - TCP SYN Flooding
  - LAND
  - Smurf

  1) Ping of Death

      - 죽음의 Ping 공격이라 불립니다.

      - ICMP 패킷을 규정된 크기보다 크게 보내 상대 네트워크 자원을 소모시키는 기법
  
      Ping
        - 32 바이트 데이터를 이용하여 요청 및 응답 과정 진행

        - 네트워크를 통해 한번에 전송할 수 있는 최대 데이터양 (MTU, 일반적으로 1500 바이트) 보다 작기 때문에 한번에 데이터 이동 가능
  
      32 바이트가 아닌 MTU 크기 2배의 데이터를 보내면 어떻게 될까요?
  
       - 공격자가 ICPM 사이즈가 MTU 사이즈의 2배의 데이터를 보내면 ICMP 패킷은 2개로 분리되어서 공격 대상 호스트에 전송되고 공격 대상은  2개의 패킷에 대한 응답을 해야 합니다.
      
       - Ping of Death 공격을 받으면 이 작업을 처리하느라 네트워크 이용룰이 증가하고 다른 네트워크 자원을 이용할 수 없게 됩니다.
  

   2) TCP SYN Flooding

 

      

    
   




  
  
  
  




